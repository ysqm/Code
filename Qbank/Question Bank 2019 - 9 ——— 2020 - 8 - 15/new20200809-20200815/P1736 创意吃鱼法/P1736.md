# P1736 创意吃鱼法

## 题目描述

回到家中的猫猫把三桶鱼全部转移到了她那长方形大池子中，然后开始思考：到底要以何种方法吃鱼呢（猫猫就是这么可爱，吃鱼也要想好吃法 ^_*）。她发现，把大池子视为01矩阵（0表示对应位置无鱼，1表示对应位置有鱼）有助于决定吃鱼策略。

在代表池子的01矩阵中，有很多的正方形子矩阵，如果某个正方形子矩阵的某条对角线上都有鱼，且此正方形子矩阵的其他地方无鱼，猫猫就可以从这个正方形子矩阵“对角线的一端”下口，只一吸，就能把对角线上的那一队鲜鱼吸入口中。

猫猫是个贪婪的家伙，所以她想一口吃掉尽量多的鱼。请你帮猫猫计算一下，她一口下去，最多可以吃掉多少条鱼？

## 输入格式

有多组输入数据，每组数据：

第一行有两个整数n和m（n,m≥1），描述池塘规模。接下来的n行，每行有m个数字（非“0”即“1”）。每两个数字之间用空格隔开。

## 数据范围

$n,m \leq 1500$

## 分析：

要求只能对角线上有鱼，可以做一个前缀和$\large S_{ij}$。

然后扫每一条对角线，若满足条件,则转移,中途还要比较一下答案。

时间复杂度 $\Omicron(nm)$ ，可以过。

~~我仍然Too young Too sinmple,瞄了眼题解，代码量biubiu的降。~~

记录 $4$ 个数组，$a_{ij},dp_{ij},H_{ij},S_{ij}$ 分别记录原图，DP 转移，横向，竖向的最大扩展值，于是有 DP 方程：

$$\Large f[i][j] = Max(f[i-1][j-1],Min(H[i-1][j],S[i][j-1]))+1\ \ \ \ \ (a[i][j]==1)$$

当然不要漏掉从下往上扫一遍：

$$\Large f[i][j] = Max(f[i-1][j+1],Min(H[i-1][j],S[i][j+1]))+1\ \ \ \ \ (a[i][j]==1)$$