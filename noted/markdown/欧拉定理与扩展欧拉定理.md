# 欧拉定理与扩展欧拉定理

~~首先膜一波欧拉。~~

## 前置~~芝士~~

### 欧拉函数 $\large\varphi(n)$:

**$\varphi(n)$ 的定义是指 $1\rightarrow n$ 内与 $n$ 互质的数的个数。**

当 $n$ 较小时我们可以采用遍历的方法计算其欧拉函数。

由定义我们可以轻松的找出另一种求法：

即当 $\large n = p^{q}$ ,$\large p$ 为质数时有 $\large\varphi(n) = p^q-p^{q-1}$ 。

推广一下有：

$$\Large\varphi(n) = n\times(1-\frac{1}{p_1})\times(1-\frac{1}{p_2})\times(1-\frac{1}{p_3})\dots\times(1-\frac{1}{p_{m-1}})\times(1-\frac{1}{p_m})$$

证明如下：

$\large \because n=p_1^{k_1}p_2^{k_2}p_3^{k_3}\dots p_{m-1}^{k_{m-1}}p_m^{k_m}$，且当 $Gcd(a,b)==1$  $\varphi(nq)=\varphi(n) \times\varphi(q)$

$$\large \therefore \varphi(n)=\prod\limits_{i=1}^{m}(p_{i}^{k_i}-p_i^{k_i-1})=\prod\limits_{i=1}^{m}(p_i^{k_i-1}(p_i-1))=p_1^{k_1}p_2^{k_2}\dots p_m^{k_m}\prod\limits_{i=1}^{m}(1-\frac{1}{p_i})=n\prod\limits_{i=1}^{m}(1-\frac{1}{p_i})$$

~~还有一些我不会的方法~~：

$$\large\varphi(n)=\sum\limits_{d|n}(d\times\mu(\frac{n}{d}))$$

### 代码部分：

$\large 1.\varphi(n) = p^q-p^{q-1}$ 有当 $n$ 为质数时，$\varphi(p)=p-1$ (对于质数时的处理)。

$\large 2.\varphi(n)$ 是积性函数（对于两数互质时的处理）。

$\large 3.\varphi(n) = n\prod\limits_{i=1}^{m}(1-\frac{1}{p_i}) \Longrightarrow \varphi(n) = \varphi({\frac{n}{p_i}})\times p_i$

关于 $\Large3.$ 是由 $\large\varphi(n^m)=n^{m-1}\times\varphi(n) $ ,所以有如下：

$$\Large \varphi(n) = \varphi(p_i^k)\times\varphi(\frac{n}{p_i^k})=\varphi(p_i)\times p_{i}^{k-1}\times\varphi(\frac{n}{p_i^k})=p_{i}^{k-1}\times\varphi(\frac{n}{p_i^{k-1}})$$

所以我们可得到 $\Theta(n)$ 求 $1-n$ 的欧拉函数的方法。

~~~c++
	vis[1] = 1;
	phi[1] = 1;
	
	for(reg int i = 2; i <= Maxn; ++i)
	{
		if(!vis[i])
		{
			prime[++tot] = i;
			
			phi[i] = i-1;//性质一
		}
		for(reg int j = 1 ; j <= tot && i * prime[j] <= Maxn ; ++j)
		{
			vis[i*prime[j]] = 1;
			if(i % prime[j] == 0) {phi[i*prime[j]] = phi[i] * prime[j];break;}//性质三
			else phi[i*prime[j]] = phi[i] * phi[prime[j]];//性质二
		}
	}
~~~



## 欧拉定理：

当 $\large m\geq2$ 时对任意两个互质整数 $\large a,m$ 有 $\large a^{\varphi(m)}\space\equiv\space 1\space (mod\space m)$。

证明：

~~待补充~~

用处：

处理形如 $a^x\space\equiv\space1\space(mod\space p)$ 的问题。

## 扩展欧拉定理：

$$\Large a^x \space \equiv \space \begin{cases}a^{x\space mod\space\varphi(n)}&gcd(a,n)\ne1 \and x < \varphi(n)\\a^{x\space mod\space\varphi(n)} &gcd(a,n) = 1\\a^{x\space mod\space\varphi(n)+\varphi(n)}\space(mod\space n) &gcd(a,n)\ne1 \and x \geqslant \varphi(n)\end{cases}$$

证明：

~~待补充~~

用处：

处理形如 $\large a^{x^{x^{\dots}}}\space\equiv\space1\space(mod\space p)$ 或 $\large a^{99999997544324299953299999}\space\equiv\space1\space(mod\space p)$ 的问题。